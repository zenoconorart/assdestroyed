<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Emoji Asteroids</title>
<style>
canvas {
    background: black;
    display: block;
    margin: 0 auto;
}
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const shipEmoji = 'ðŸš€';
const bulletEmoji = 'ðŸ”¸';
const asteroidEmoji = 'ðŸª¨';
// Tunable game constants (slightly slower overall)
const TURN_SPEED = 0.05;
const ACCELERATION = 0.05;
const BULLET_SPEED = 3;
const SLOWDOWN_FACTOR = 0.95; // when holding the down arrow
const ASTEROID_MIN_SPEED = 0.5;
const ASTEROID_MAX_SPEED = 1.2;
const ship = {x: canvas.width/2, y: canvas.height/2, angle: 0, vx:0, vy:0};
const bullets = [];
const asteroids = [];
function spawnAsteroid() {
  const x = Math.random() * canvas.width;
  const y = Math.random() * canvas.height;
  const angle = Math.random() * Math.PI * 2;
  const speed = ASTEROID_MIN_SPEED + Math.random() * (ASTEROID_MAX_SPEED - ASTEROID_MIN_SPEED);
  asteroids.push({ x, y, vx: Math.cos(angle) * speed, vy: Math.sin(angle) * speed });
}
for(let i=0;i<5;i++) spawnAsteroid();
const keys = {};
document.addEventListener('keydown',e=>{keys[e.code]=true;});
document.addEventListener('keyup',e=>{keys[e.code]=false;});
function update(){
  if(keys['ArrowLeft']) ship.angle -= TURN_SPEED;
  if(keys['ArrowRight']) ship.angle += TURN_SPEED;
  if(keys['ArrowUp']) {
    ship.vx += Math.cos(ship.angle) * ACCELERATION;
    ship.vy += Math.sin(ship.angle) * ACCELERATION;
  }
  if(keys['ArrowDown']) {
    ship.vx *= SLOWDOWN_FACTOR;
    ship.vy *= SLOWDOWN_FACTOR;
  }
  if(keys['Space']) {
    if(!ship.shootCooldown) {
      bullets.push({ x: ship.x, y: ship.y, vx: Math.cos(ship.angle) * BULLET_SPEED, vy: Math.sin(ship.angle) * BULLET_SPEED });
      ship.shootCooldown = 10;
    }
  }
  if(ship.shootCooldown>0) ship.shootCooldown--;
  ship.x = (ship.x + ship.vx + canvas.width) % canvas.width;
  ship.y = (ship.y + ship.vy + canvas.height) % canvas.height;
  bullets.forEach((b,i)=>{
    b.x += b.vx;
    b.y += b.vy;
    if(b.x<0||b.x>canvas.width||b.y<0||b.y>canvas.height) bullets.splice(i,1);
  });
  asteroids.forEach((a,ai)=>{
    a.x = (a.x+a.vx+canvas.width)%canvas.width;
    a.y = (a.y+a.vy+canvas.height)%canvas.height;
    bullets.forEach((b,bi)=>{
      if(Math.hypot(a.x-b.x,a.y-b.y)<20) {
        bullets.splice(bi,1);
        asteroids.splice(ai,1);
      }
    });
  });
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.font='30px serif';
  ctx.textAlign='center';
  ctx.textBaseline='middle';
  bullets.forEach(b=>{ctx.fillText(bulletEmoji,b.x,b.y);});
  asteroids.forEach(a=>{ctx.fillText(asteroidEmoji,a.x,a.y);});
  ctx.save();
  ctx.translate(ship.x,ship.y);
  ctx.rotate(ship.angle);
  ctx.fillText(shipEmoji,0,0);
  ctx.restore();
}
function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
